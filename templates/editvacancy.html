{% extends 'base.html' %}
{% block content %}

<!--    A page for open vacancies -->
<div class="row col s12 listpages">

<!--    Title     -->
    <div class="row">
        <h1>Edit Vacancy</h1>
    </div>

<!--    Form     -->
    <form class="col s12" action="{{url_for('update_vacancy', vacancy_id=vacancy._id)}}" method="POST">

<!--    Save button     -->
        <div class="row center">
            <button class="btn waves-effect waves-light" type="submit" name="action">
                Update
                <i class="material-icons right">save</i>
            </button>
        </div>

<!--    Vacancy name     -->
        <div class="row">
            <div class="input-field col s7">
                <i class="material-icons prefix">assignment</i>
                <input id="vacancy_name" name="vacancy_name" type="text" class="validate" value="{{vacancy.vacancy_name }}"/>
                <label for="vacancy_name">Vacancy name</label>
            </div>

<!--    Vacancy status     -->
            <div class="input-field col s5">
                <i class="material-icons prefix">show_chart</i>
                    <select id="vacancy_status" name="vacancy_status">
                        <option value="" disabled selected>Choose Status</option>
                    {% for stat in status %}
                        {% if stat.status_name == vacancy.vacancy_status %}
                            <option value="{{ stat.status_name }}" selected>{{ stat.status_name }}</option>
                        {% else %}
                            <option value="{{ stat.status_name }}">{{ stat.status_name }}</option>
                        {% endif %}
                    {% endfor %}
                    </select>
                <label for="vacancy_status">Status</label>
            </div>
        </div>

<!--    Date fields     -->
        <div class="row">
            <div class="input-field col s6">
                <i class="material-icons prefix">today</i>
                <input id="start_date" name="start_date" type="text" class="datepicker" value="{{vacancy.start_date }}"/>
                <label for="start_date">Start date</label>
            </div>
            <div class="input-field col s6">
                <i class="material-icons prefix">today</i>
                <input id="end_date" name="end_date" type="text" class="datepicker" value="{{vacancy.end_date }}"/>
                <label for="end_date">End date</label>
            </div>
        </div>

<!--    Vacancy text     -->
        <div class="row">
            <div class="input-field col s12">
                <i class="material-icons prefix">subject</i>
                <textarea id="vacancy_text" name="vacancy_text" type="textarea" class="materialize-textarea" rows="30">{{vacancy.vacancy_text }}</textarea>
                <label for="vacancy_text">Vacancy text</label>
            </div>
        </div>
    </form>
</div>

{% endblock %}